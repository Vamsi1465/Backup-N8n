"{\n  \"createdAt\": \"2025-08-27T18:21:28.532Z\",\n  \"updatedAt\": \"2025-08-27T18:21:28.532Z\",\n  \"id\": \"J3JpiPr3712yY895\",\n  \"name\": \"Lead Generation System: Google Maps to Email Scraper with Google Sheets Export\",\n  \"active\": false,\n  \"isArchived\": false,\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"content\": \"## 🗺️ STEP 1: Google Maps Data Extraction\\n\\nThis workflow starts by scraping Google Maps for business listings:\\n\\n**Process:** Uses HTTP requests to search Google Maps with queries like \\\"Calgary dentists\\\"\\n**Output:** Raw HTML containing business listings and website URLs\\n**Key:** No APIs required - direct HTML scraping\\n\\n**Note:** Replace search URL with your target location and business type\",\n        \"height\": 180,\n        \"width\": 350\n      },\n      \"id\": \"sticky-note-1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        368,\n        240\n      ],\n      \"typeVersion\": 1,\n      \"name\": \"Sticky Note\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## 🔗 STEP 2: Website URL Processing\\n\\nExtracts and cleans business website URLs:\\n\\n1. **Extract URLs:** JavaScript regex finds all website URLs in Google Maps data\\n2. **Filter Google URLs:** Removes irrelevant domains (google.com, gstatic, etc.)\\n3. **Remove Duplicates:** Eliminates duplicate websites\\n4. **Limit:** Controls batch size for testing (adjust for production)\\n\\n**Result:** Clean list of actual business websites ready for email extraction\",\n        \"height\": 200,\n        \"width\": 380\n      },\n      \"id\": \"sticky-note-2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        576,\n        208\n      ],\n      \"typeVersion\": 1,\n      \"name\": \"Sticky Note1\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## 🔄 STEP 3: Smart Website Scraping\\n\\nProcesses each website individually to prevent IP blocking:\\n\\n**Loop Over Items:** Processes websites one by one with built-in delays\\n**Scrape Site:** Downloads HTML content from each business website\\n**Wait Nodes:** Prevent rate limiting and IP blocking\\n**Error Handling:** Continues processing even if some sites fail\\n\\n**Critical:** The batching and delays are essential for reliable operation at scale\",\n        \"height\": 200,\n        \"width\": 380\n      },\n      \"id\": \"sticky-note-3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        976,\n        208\n      ],\n      \"typeVersion\": 1,\n      \"name\": \"Sticky Note2\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## 📧 STEP 4: Email Extraction & Export\\n\\nFinal processing pipeline:\\n\\n1. **Extract Emails:** JavaScript regex finds all email addresses in website HTML\\n2. **Filter Out Empties:** Removes websites with no emails found\\n3. **Split Out:** Converts email arrays into individual items\\n4. **Remove Duplicates:** Final deduplication across all sources\\n5. **Add to Sheet:** Exports clean email list to Google Sheets\\n\\n**Result:** Organized database of business emails ready for outreach\",\n        \"height\": 220,\n        \"width\": 400\n      },\n      \"id\": \"sticky-note-4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1376,\n        192\n      ],\n      \"typeVersion\": 1,\n      \"name\": \"Sticky Note3\"\n    },\n    {\n      \"parameters\": {},\n      \"id\": \"4a6f9faa-5b11-41fe-88c9-cc8a262a2de2\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        416,\n        528\n      ],\n      \"typeVersion\": 1\n    },\n    {\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"id\": \"47d741e7-a53f-40c7-bf7c-09a446b0d229\",\n      \"name\": \"Remove Duplicates\",\n      \"type\": \"n8n-nodes-base.removeDuplicates\",\n      \"position\": [\n        1216,\n        528\n      ],\n      \"typeVersion\": 2\n    },\n    {\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"id\": \"6cd049c8-425e-45e0-8d45-6a4883c2f496\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        1616,\n        528\n      ],\n      \"typeVersion\": 3\n    },\n    {\n      \"parameters\": {\n        \"amount\": 1\n      },\n      \"id\": \"3c3a3870-034d-4147-936a-4b0f19b7727d\",\n      \"name\": \"Wait\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1968,\n        624\n      ],\n      \"webhookId\": \"19cc6ed4-4fe7-485b-b879-c679e4b3374d\",\n      \"typeVersion\": 1.1\n    },\n    {\n      \"parameters\": {\n        \"maxItems\": 10\n      },\n      \"id\": \"a377879d-517d-4c90-a3d4-a7a0c190787e\",\n      \"name\": \"Limit\",\n      \"type\": \"n8n-nodes-base.limit\",\n      \"position\": [\n        1392,\n        528\n      ],\n      \"typeVersion\": 1\n    },\n    {\n      \"parameters\": {},\n      \"id\": \"5f4ae91a-29c7-4fb3-b535-34bc5194b183\",\n      \"name\": \"Wait1\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1792,\n        464\n      ],\n      \"webhookId\": \"0fe34756-6e43-4603-8891-5747a9a6500a\",\n      \"typeVersion\": 1.1\n    },\n    {\n      \"parameters\": {\n        \"fieldToSplitOut\": \"emails\",\n        \"options\": {}\n      },\n      \"id\": \"645bf31c-4b3c-4f4c-b90b-610fc2d6007c\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        2160,\n        464\n      ],\n      \"typeVersion\": 1\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"const input = $input.first().json.data\\nconst regex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.(?!jpeg|jpg|png|gif|webp|svg)[a-zA-Z]{2,}/g\\nconst emails = input.match(regex)\\nreturn {json: {emails:emails}}\"\n      },\n      \"id\": \"7e9c227c-2321-429a-a3f3-4c3a77bc6cf3\",\n      \"name\": \"Extract Emails\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        2160,\n        624\n      ],\n      \"typeVersion\": 2,\n      \"alwaysOutputData\": true,\n      \"onError\": \"continueRegularOutput\"\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"const input = $input.first().json.data\\nconst regex = /https?:\\\\/\\\\/[^\\\\/\\\\s\\\"'>]+/g\\nconst websites = input.match(regex)\\nreturn websites.map(website => ({json:{website}}))\"\n      },\n      \"id\": \"fb76c70c-385d-4e7f-93cd-43023690076a\",\n      \"name\": \"Extract URLs\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        816,\n        528\n      ],\n      \"typeVersion\": 2\n    },\n    {\n      \"parameters\": {\n        \"url\": \"https://www.google.com/maps/search/real+estate+builders+in+hyderabad/@17.4331676,78.3520229,13z/data=!3m1!4b1?entry=ttu&g_ep=EgoyMDI1MDgyNC4wIKXMDSoASAFQAw%3D%3D\",\n        \"options\": {\n          \"allowUnauthorizedCerts\": true,\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        }\n      },\n      \"id\": \"b10c0ed6-5a94-4272-b65c-bd19bd674fa0\",\n      \"name\": \"Scrape Google Maps\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        608,\n        528\n      ],\n      \"typeVersion\": 4.2\n    },\n    {\n      \"parameters\": {\n        \"url\": \"={{ $json.website }}\",\n        \"options\": {\n          \"redirect\": {\n            \"redirect\": {\n              \"followRedirects\": false\n            }\n          }\n        }\n      },\n      \"id\": \"58a0d85d-f6eb-47d1-ba9c-3af69ddd30fb\",\n      \"name\": \"Scrape Site\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1792,\n        624\n      ],\n      \"typeVersion\": 4.2,\n      \"onError\": \"continueRegularOutput\"\n    },\n    {\n      \"parameters\": {\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"a6786c58-424a-409a-b87f-8a7592cb7944\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.emails }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"id\": \"4618e775-d14d-4355-b3a2-cd6a6bbc70e8\",\n      \"name\": \"Filter Out Empties\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1968,\n        464\n      ],\n      \"typeVersion\": 2.2\n    },\n    {\n      \"parameters\": {\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"bf0a5053-9660-457c-9581-964793bb6d7d\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notContains\"\n              },\n              \"leftValue\": \"={{ $json.website }}\",\n              \"rightValue\": \"schema\"\n            },\n            {\n              \"id\": \"9110b9e0-12aa-45cc-bde0-9eda8c10970e\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notContains\"\n              },\n              \"leftValue\": \"={{ $json.website }}\",\n              \"rightValue\": \"google\"\n            },\n            {\n              \"id\": \"fb9b6ed6-96a5-4560-ab10-b8a4b9a61a2b\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notContains\"\n              },\n              \"leftValue\": \"={{ $json.website }}\",\n              \"rightValue\": \"gg\"\n            },\n            {\n              \"id\": \"10500c0b-cdbd-4816-aba3-df60d69845dc\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notContains\"\n              },\n              \"leftValue\": \"={{ $json.website }}\",\n              \"rightValue\": \"gstatic\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"id\": \"74513e7e-a7dc-4b19-b23e-01efd82c9d6d\",\n      \"name\": \"Filter Google URLs\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1008,\n        528\n      ],\n      \"typeVersion\": 2.2\n    },\n    {\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"id\": \"035fbbe8-7758-4c7b-be8e-c1cba8fc48bc\",\n      \"name\": \"Remove Duplicates (2)\",\n      \"type\": \"n8n-nodes-base.removeDuplicates\",\n      \"position\": [\n        2352,\n        464\n      ],\n      \"typeVersion\": 2\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"appendOrUpdate\",\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1I5-WrXcxHMhnEkoXYZp8dwyxQTbfU37mwO6WzMW11HI\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"new sheet\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I5-WrXcxHMhnEkoXYZp8dwyxQTbfU37mwO6WzMW11HI/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": \"gid=0\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Sheet1\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I5-WrXcxHMhnEkoXYZp8dwyxQTbfU37mwO6WzMW11HI/edit#gid=0\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"emails\": \"={{ $json.emails }}\"\n          },\n          \"matchingColumns\": [\n            \"emails\"\n          ],\n          \"schema\": [\n            {\n              \"id\": \"emails\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"emails\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {\n          \"useAppend\": true\n        }\n      },\n      \"id\": \"aa3e9285-235d-4fda-ab0e-45134cf825dd\",\n      \"name\": \"Add to Sheet (or whatever you want!)\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        2560,\n        464\n      ],\n      \"typeVersion\": 4.5,\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"ZBG2VlC9EE0uJLOS\",\n          \"name\": \"Google Sheets account\"\n        }\n      }\n    }\n  ],\n  \"connections\": {\n    \"Wait\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Emails\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Limit\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Out Empties\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Remove Duplicates (2)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Scrape Site\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract URLs\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Google URLs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Emails\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Scrape Site\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remove Duplicates\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Google URLs\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Remove Duplicates\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Out Empties\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Scrape Google Maps\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract URLs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remove Duplicates (2)\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add to Sheet (or whatever you want!)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Scrape Google Maps\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"staticData\": null,\n  \"meta\": {\n    \"templateId\": \"5385\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"pinData\": {},\n  \"versionId\": \"2ae30d27-c7f7-4dd8-a1d4-aafc334d6af8\",\n  \"triggerCount\": 0,\n  \"shared\": [\n    {\n      \"createdAt\": \"2025-08-27T18:21:28.569Z\",\n      \"updatedAt\": \"2025-08-27T18:21:28.569Z\",\n      \"role\": \"workflow:owner\",\n      \"workflowId\": \"J3JpiPr3712yY895\",\n      \"projectId\": \"i6aMFKoN06EKaknY\"\n    }\n  ],\n  \"tags\": []\n}"