"{\n  \"createdAt\": \"2025-09-13T07:50:36.571Z\",\n  \"updatedAt\": \"2025-09-14T14:55:42.000Z\",\n  \"id\": \"M2fCYx2kZKNBuvVM\",\n  \"name\": \"Reddit\",\n  \"active\": false,\n  \"isArchived\": false,\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"jsCode\": \"const allPosts = [];\\n\\nitems.forEach(item => {\\n  const children = item.json.data?.children || [];\\n  \\n  children.forEach(child => {\\n    const d = child.data;\\n    allPosts.push({\\n      json: {\\n        post_id: d.id,\\n        post_link: d.permalink ? \\\"https://reddit.com\\\" + d.permalink : null,\\n        author: d.author,\\n        content: ((d.title || \\\"\\\") + (d.selftext ? \\\" - \\\" + d.selftext : \\\"\\\")).slice(0,1000),\\n        timestamp: d.created_utc ? new Date(d.created_utc*1000).toISOString() : null,\\n        community: d.subreddit,\\n        keyword: item.json.keywords,\\n        ups: d.ups,\\n        score: d.score,\\n        flair: d.link_flair_text || null\\n      }\\n    });\\n  });\\n});\\n\\nreturn allPosts;\\n\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        -176,\n        -160\n      ],\n      \"id\": \"fb70033d-f816-4cce-9732-86d6d2b44ea7\",\n      \"name\": \"Code\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"4e441380-cf20-45df-8e99-d23b1367fcf9\",\n              \"name\": \"message.content.engagement_suggestion\",\n              \"value\": \"={{ $json.message.content.engagement_suggestion }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"49fa2ac7-b3a9-4df7-9400-a473792a814d\",\n              \"name\": \"message.content.post_summary\",\n              \"value\": \"={{ $json.message.content.post_summary }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"861dec5f-7ac6-4730-8889-0875dab2ab07\",\n              \"name\": \"post_link\",\n              \"value\": \"={{ $('Loop Over Items').item.json.post_link }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"71219fc1-8be0-437a-b05b-e5f99765bae6\",\n              \"name\": \"Relavance\",\n              \"value\": \"={{ $('Filter1').item.json.message.content.classification }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"148972f8-fcf3-4ef9-9e69-816aa5544aa8\",\n              \"name\": \"Relevance number\",\n              \"value\": \"={{ $('Filter1').item.json.relevanceNumber }}\",\n              \"type\": \"number\"\n            },\n            {\n              \"id\": \"c6627f48-9eb0-4993-88af-91f8c414f38f\",\n              \"name\": \"Intent\",\n              \"value\": \"={{ $('Filter1').item.json.message.content.intent }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"0dbdf6eb-0475-4bd7-8cbb-7f246143a24b\",\n              \"name\": \"Sentiment\",\n              \"value\": \"={{ $('Filter1').item.json.message.content.sentiment }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"8bbdf9fa-06b5-486a-aa86-72f4e1200b84\",\n              \"name\": \"author\",\n              \"value\": \"={{ $('Loop Over Items').item.json.author }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"bd381e48-160e-4909-84e7-689d4ca87288\",\n              \"name\": \"post_id\",\n              \"value\": \"={{ $('Loop Over Items').item.json.post_id }}\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        2672,\n        -16\n      ],\n      \"id\": \"251dbd09-23f2-487e-bba2-e3a6f7e3d418\",\n      \"name\": \"Edit Fields1\"\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"append\",\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Untitled spreadsheet\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": \"gid=0\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Sheet1\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit#gid=0\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"Post summary\": \"={{ $json.message.content.post_summary }}\",\n            \"Engagement suggestion\": \"={{ $json.message.content.engagement_suggestion }}\",\n            \"Relevance number\": \"={{ $json['Relevance number'] }}\",\n            \"Intent\": \"={{ $json.Intent }}\",\n            \"Sentiment\": \"={{ $json.Sentiment }}\",\n            \"Relavance\": \"={{ $json.Relavance }}\",\n            \"Processed\": \"Yes\",\n            \"postid(slack)\": \"0\",\n            \"post_id\": \"={{ $json.post_id }}\",\n            \"post link\": \"={{ $json.post_link }}\"\n          },\n          \"matchingColumns\": [\n            \"Relavance Score\"\n          ],\n          \"schema\": [\n            {\n              \"id\": \"post_id\",\n              \"displayName\": \"post_id\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"post link\",\n              \"displayName\": \"post link\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Post summary\",\n              \"displayName\": \"Post summary\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Relavance\",\n              \"displayName\": \"Relavance\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Engagement suggestion\",\n              \"displayName\": \"Engagement suggestion\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Relevance number\",\n              \"displayName\": \"Relevance number\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Intent\",\n              \"displayName\": \"Intent\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Sentiment\",\n              \"displayName\": \"Sentiment\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Processed\",\n              \"displayName\": \"Processed\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"postid(slack)\",\n              \"displayName\": \"postid(slack)\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Update\",\n              \"displayName\": \"Update\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"no of reactions\",\n              \"displayName\": \"no of reactions\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.7,\n      \"position\": [\n        3488,\n        -16\n      ],\n      \"id\": \"b70c3b06-92c5-4a72-a2f9-abe8accc18b1\",\n      \"name\": \"Append row in sheet\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"NFRkPGRhbOO7zmV2\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Untitled spreadsheet\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": 738652724,\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Sheet\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit#gid=738652724\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.7,\n      \"position\": [\n        -848,\n        -144\n      ],\n      \"id\": \"cd420b1e-7092-40e1-9043-518c476fb1f3\",\n      \"name\": \"Get row(s) in sheet\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"NFRkPGRhbOO7zmV2\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"conditions\": {\n          \"options\": {\n            \"caseSensitive\": true,\n            \"leftValue\": \"\",\n            \"typeValidation\": \"strict\",\n            \"version\": 2\n          },\n          \"conditions\": [\n            {\n              \"id\": \"2f41e814-5797-4938-961c-7f5e3e993f47\",\n              \"leftValue\": \"={{ $json.keywords }}\",\n              \"rightValue\": \"=\\\" \\\"\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEquals\"\n              }\n            }\n          ],\n          \"combinator\": \"and\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.filter\",\n      \"typeVersion\": 2.2,\n      \"position\": [\n        -624,\n        -128\n      ],\n      \"id\": \"4a32854c-4e86-4cc3-af00-03a71507b260\",\n      \"name\": \"Filter\"\n    },\n    {\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"triggerAtHour\": 13\n            }\n          ]\n        }\n      },\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"typeVersion\": 1.2,\n      \"position\": [\n        -1184,\n        16\n      ],\n      \"id\": \"f5139c45-20fe-4d57-848d-0deac5dfccdb\",\n      \"name\": \"Schedule Trigger\"\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"// Convert confidence 0-1 to relevance number 1-5\\nconst confidence = parseFloat($json.message.content.confidence) || 0;\\nlet relevanceNumber = 1;\\n\\nif(confidence > 0.8) relevanceNumber = 5;\\nelse if(confidence > 0.6) relevanceNumber = 4;\\nelse if(confidence > 0.4) relevanceNumber = 3;\\nelse if(confidence > 0.2) relevanceNumber = 2;\\nelse relevanceNumber = 1;\\n\\n// Optional: priority score combining relevance, sentiment, and intent\\nconst sentimentScore = $json.message.content.sentiment === 'positive' ? 1 \\n                    : $json.message.content.sentiment === 'neutral' ? 0.5 \\n                    : 0; // negative\\n\\nconst intentMap = {\\n  'vendor search': 1,\\n  'question': 1,\\n  'complaint': 0.8,\\n  'general chatter': 0.3,\\n  'career update': 0.5,\\n  'other': 0.5\\n};\\n\\nconst intentScore = intentMap[$json.message.content.intent] || 0.5;\\n\\n// Weighted priority score 1-5\\nconst priorityScore = Math.round(((relevanceNumber/5)*0.6 + sentimentScore*0.2 + intentScore*0.2) * 5);\\n\\nreturn [\\n  {\\n    json: {\\n      ...$json,\\n      relevanceNumber,\\n      priorityScore\\n    }\\n  }\\n];\\n\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        1696,\n        -16\n      ],\n      \"id\": \"07ac53f0-ceb5-47f1-9fc7-896eed85079c\",\n      \"name\": \"Code1\"\n    },\n    {\n      \"parameters\": {\n        \"conditions\": {\n          \"options\": {\n            \"caseSensitive\": true,\n            \"leftValue\": \"\",\n            \"typeValidation\": \"strict\",\n            \"version\": 2\n          },\n          \"conditions\": [\n            {\n              \"id\": \"237c3fdb-6989-4fdf-88a4-6131d9d53174\",\n              \"leftValue\": \"={{ $json.relevanceNumber }}\",\n              \"rightValue\": 3,\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"gt\"\n              }\n            },\n            {\n              \"id\": \"5dc4cc7f-1903-4051-9de2-fc85f44a5e76\",\n              \"leftValue\": \"={{ $json.priorityScore }}\",\n              \"rightValue\": 3,\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"gt\"\n              }\n            }\n          ],\n          \"combinator\": \"or\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.filter\",\n      \"typeVersion\": 2.2,\n      \"position\": [\n        1920,\n        -16\n      ],\n      \"id\": \"46b3b903-8495-4dff-a331-b75f697f79ab\",\n      \"name\": \"Filter1\"\n    },\n    {\n      \"parameters\": {\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Untitled spreadsheet\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": \"gid=0\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Sheet1\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit#gid=0\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.7,\n      \"position\": [\n        -416,\n        944\n      ],\n      \"id\": \"7a7c4999-1559-4c2f-bdb7-8b4d0d8afdf1\",\n      \"name\": \"Get row(s) in sheet2\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"NFRkPGRhbOO7zmV2\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"// Ensure items exist and map them to posts\\nconst posts = items.map(i => {\\n  return {\\n    ...i.json,\\n    Intent: i.json.Intent || \\\"other\\\",\\n    Sentiment: i.json.Sentiment || \\\"neutral\\\",\\n    timestamp: i.json.timestamp || new Date().toISOString()\\n  };\\n});\\n\\n// Function to get ISO week number\\nfunction getWeekNumber(d) {\\n  if (!d) return \\\"Unknown\\\";\\n  d = new Date(d);\\n  if (isNaN(d)) return \\\"Unknown\\\";\\n\\n  d.setHours(0, 0, 0, 0);\\n  d.setDate(d.getDate() + 4 - (d.getDay() || 7));\\n  const yearStart = new Date(d.getFullYear(), 0, 1);\\n  const weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);\\n  return `${d.getFullYear()}-W${weekNo}`;\\n}\\n\\n// Aggregate weekly data with all intents & sentiments initialized\\nconst weekData = {};\\n\\nposts.forEach(p => {\\n  const week = getWeekNumber(p.timestamp);\\n  if (!weekData[week]) {\\n    weekData[week] = {\\n      total: 0,\\n      intents: {\\n        question: 0,\\n        complaint: 0,\\n        \\\"vendor search\\\": 0,\\n        \\\"general chatter\\\": 0,\\n        \\\"career update\\\": 0,\\n        other: 0\\n      },\\n      sentiment: { positive: 0, neutral: 0, negative: 0 }\\n    };\\n  }\\n\\n  weekData[week].total += 1;\\n\\n  const intent = p.Intent.toLowerCase();\\n  weekData[week].intents[intent] = (weekData[week].intents[intent] || 0) + 1;\\n\\n  const sentiment = p.Sentiment.toLowerCase();\\n  weekData[week].sentiment[sentiment] = (weekData[week].sentiment[sentiment] || 0) + 1;\\n});\\n\\nreturn Object.entries(weekData).map(([week, data]) => ({\\n  json: { week, ...data }\\n}));\\n\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        -192,\n        944\n      ],\n      \"id\": \"ae2e9319-a511-4d17-9089-8d2a2bd70958\",\n      \"name\": \"Code2\"\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"append\",\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Untitled spreadsheet\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": 862058655,\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Copy of Sheet1\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit#gid=862058655\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"Week\": \"={{ $json.week }}\",\n            \"Total\": \"={{ $json.total }}\",\n            \"Question\": \"={{ $json.intents.question }}\",\n            \"Complaint\": \"={{ $json.intents.complaint }}\",\n            \"Positive\": \"={{ $json.sentiment.positive }}\",\n            \"Neutral\": \"={{ $json.sentiment.neutral }}\",\n            \"Negative\": \"={{ $json.sentiment.negative }}\",\n            \"Vendor Search\": \"={{ $json.intents['vendor search'] }}\",\n            \"General Chatter\": \"={{ $json.intents['general chatter'] }}\",\n            \"Career Update\": \"={{ $json.intents['career update'] }}\"\n          },\n          \"matchingColumns\": [],\n          \"schema\": [\n            {\n              \"id\": \"Week\",\n              \"displayName\": \"Week\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Total\",\n              \"displayName\": \"Total\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Question\",\n              \"displayName\": \"Question\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"General Chatter\",\n              \"displayName\": \"General Chatter\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Career Update\",\n              \"displayName\": \"Career Update\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Complaint\",\n              \"displayName\": \"Complaint\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Vendor Search\",\n              \"displayName\": \"Vendor Search\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Positive\",\n              \"displayName\": \"Positive\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Neutral\",\n              \"displayName\": \"Neutral\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Negative\",\n              \"displayName\": \"Negative\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.7,\n      \"position\": [\n        32,\n        944\n      ],\n      \"id\": \"f93a2234-2c0e-407f-8fd3-21f10b974d4c\",\n      \"name\": \"Append row in sheet1\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"NFRkPGRhbOO7zmV2\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"weeks\"\n            }\n          ]\n        }\n      },\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"typeVersion\": 1.2,\n      \"position\": [\n        -640,\n        944\n      ],\n      \"id\": \"f880fb9f-6c2b-45b7-ba54-46326f5ddf49\",\n      \"name\": \"Schedule Trigger1\"\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"// Input: item.json.post_link (could be '\\\"<link>\\\"')\\n// Output: cleaned link without quotes\\n\\nreturn items.map(item => {\\n  if (item.json.post_link) {\\n    // Remove surrounding quotes\\n   item.json.post_link = item.json.post_link.replace(/^\\\\\\\"|\\\\\\\"$/g, '');\\n  }\\n  return item;\\n});\\n\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        3168,\n        -16\n      ],\n      \"id\": \"ece4d69b-0386-44f8-9aa2-3d7b6c3d8745\",\n      \"name\": \"Code3\"\n    },\n    {\n      \"parameters\": {\n        \"url\": \"=https://oauth.reddit.com/search?q={{ $json[\\\"keywords\\\"] }}&type=link&limit=1\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"oAuth2Api\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"typeVersion\": 4.2,\n      \"position\": [\n        -400,\n        -160\n      ],\n      \"id\": \"4cb87680-3aa6-4c49-bc59-a8112b702a22\",\n      \"name\": \"HTTP Request\",\n      \"credentials\": {\n        \"oAuth2Api\": {\n          \"id\": \"5YXOjuSbjLDQ3Gh0\",\n          \"name\": \"Unnamed credential\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"content\": \"Workflow Logic:\\n\\n- Loop Over Items:\\n    • Process each post individually\\n\\n- Message a Model:\\n    • Send post content to GPT-4.1-mini\\n    • Get classification (Relevant/Not Relevant), intent, sentiment, and confidence\\n\\n- Code1:\\n    • Convert confidence to relevanceNumber (1-5)\\n    • Calculate priorityScore combining relevance, sentiment, and intent\\n\\n- Filter1:\\n    • Pass posts with relevanceNumber > 3 OR priorityScore > 3\\n    • Ignore others\\n\",\n        \"height\": 768,\n        \"width\": 1392\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        672,\n        -448\n      ],\n      \"typeVersion\": 1,\n      \"id\": \"bc1820f7-d38a-4d93-8a73-3f1f3f239a2c\",\n      \"name\": \"Sticky Note2\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"Workflow Logic: Engagement & Sheet Update\\n\\n- Message a model1:\\n    • Send post content, intent, and sentiment to GPT-4.1-mini\\n    • Get concise post summary and engagement suggestion\\n    • Output in JSON for automation\\n\\n- Edit Fields1:\\n    • Map GPT output to internal fields\\n    • Add post metadata: link, author, relevance, intent, sentiment, processed status\\n\\n- Code3:\\n    • Clean post link (remove surrounding quotes)\\n\\n- Append row in sheet:\\n    • Append processed post with all mapped fields into Google Sheet\\n    • Mark post as \\\"Processed\\\" to avoid duplicates\\n\\n- Send a message1:\\n    • Send post details and engagement suggestion to Slack channel\\n    • Include link, author, summary, relevance, confidence, intent\\n\",\n        \"height\": 992,\n        \"width\": 1728,\n        \"color\": 4\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2112,\n        -464\n      ],\n      \"typeVersion\": 1,\n      \"id\": \"ae8fb5c5-66fd-4079-83ba-f29b0bd225cc\",\n      \"name\": \"Sticky Note3\"\n    },\n    {\n      \"parameters\": {\n        \"select\": \"channel\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"value\": \"C09FGV1KRFB\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"all-vamsi\"\n        },\n        \"text\": \"=New Relevant Post Detected\\n\\nPost Link: {{ $('Edit Fields1').item.json.post_link }}\\nAuthor: {{ $('Edit Fields1').item.json.author }}\\nPost Summary: {{ $('Edit Fields1').item.json.message.content.post_summary }}\\nRelevance Score:  {{ $('Edit Fields1').item.json.Relavance }}\\nConfidence: {{ $('Edit Fields1').item.json['Relevance number'] }}\\nEngagement Suggestion:   {{ $('Edit Fields1').item.json.message.content.engagement_suggestion }}\\nIntent: {{ $('Edit Fields1').item.json.Intent }}\",\n        \"otherOptions\": {\n          \"mrkdwn\": true\n        }\n      },\n      \"type\": \"n8n-nodes-base.slack\",\n      \"typeVersion\": 2.3,\n      \"position\": [\n        3168,\n        320\n      ],\n      \"id\": \"fea79b53-e365-4d91-a741-6f8f97d263ed\",\n      \"name\": \"Send a message1\",\n      \"webhookId\": \"47a65711-9698-4acf-bb54-e1565c7aa600\",\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"oVQNoVSc96qAfx3T\",\n          \"name\": \"Slack account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"trigger\": [\n          \"reaction_added\"\n        ],\n        \"channelId\": {\n          \"__rl\": true,\n          \"value\": \"C09FGV1KRFB\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"all-vamsi\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.slackTrigger\",\n      \"typeVersion\": 1,\n      \"position\": [\n        752,\n        928\n      ],\n      \"id\": \"be76b667-700a-4bec-bf4d-5d270c4a04b0\",\n      \"name\": \"Slack Trigger\",\n      \"webhookId\": \"d3200406-396d-4725-9170-7ba99ceb837a\",\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"oVQNoVSc96qAfx3T\",\n          \"name\": \"Slack account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"return items.map(item => {\\n  // Check if there is at least one reaction\\n  const hasReaction = item.json.reaction || item.json.totalReactionsList;\\n\\n  // Determine update value\\n  const updateStatus = hasReaction ? 'reacted' : 'not reacted';\\n\\n  // Extract Slack user ID (unique per workspace)\\n  const userId = item.json.user;  \\n\\n  // Extract Slack message timestamp (unique per channel)\\n  const postId = item.json.item?.ts || item.json.postId;\\n\\n  return {\\n    json: {\\n      postId,                         // Slack message ts (unique per message)\\n      userId,                         // Slack user ID (unique per user)\\n      update: updateStatus,           // 'reacted' or 'not reacted'\\n      timestamp: new Date().toISOString()\\n    }\\n  };\\n});\\n\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        944,\n        928\n      ],\n      \"id\": \"9aec2e22-f870-4d65-befb-e884d6989859\",\n      \"name\": \"Code4\"\n    },\n    {\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"typeVersion\": 3,\n      \"position\": [\n        928,\n        -32\n      ],\n      \"id\": \"5ca6d073-e2cf-4604-b763-2efb58af1848\",\n      \"name\": \"Loop Over Items\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"Weekly Post Analytics Workflow:\\n\\n- Schedule Trigger → runs weekly\\n- Get rows from Sheet → fetch posts\\n- Code2 → \\n    • Assign defaults for Intent/Sentiment\\n    • Calculate ISO week\\n    • Aggregate counts: total posts, intents, sentiments\\n- Append row → save weekly summary to Sheet\\n\",\n        \"height\": 448,\n        \"width\": 960\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -688,\n        656\n      ],\n      \"typeVersion\": 1,\n      \"id\": \"22447c52-df93-415e-884f-6d7dad44b09f\",\n      \"name\": \"Sticky Note\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"Slack Reaction Tracker Workflow:\\n\\n- Slack Trigger → fires when a reaction is added\\n- Code4 → marks post as 'reacted' or 'not reacted'\\n- Get row(s) in Sheet → fetch post data\\n- Code5 → increment reactions count & set engagement score\\n- Append or Update Row → update Google Sheet\\n- Update Row → ensure final sheet is synced\\n\",\n        \"height\": 448,\n        \"width\": 1344,\n        \"color\": 3\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        672,\n        672\n      ],\n      \"typeVersion\": 1,\n      \"id\": \"bc52e2a2-8eb0-4a0f-acc3-7cabfeff0527\",\n      \"name\": \"Sticky Note6\"\n    },\n    {\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"value\": \"gpt-4.1-mini\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"GPT-4.1-MINI\"\n        },\n        \"messages\": {\n          \"values\": [\n            {\n              \"content\": \"=Classify the following post for growth marketing GTM relevance:\\n\\nPost Content:\\n{{ $('Loop Over Items').item.json.content }}\\nInstructions:\\n1. Classify the post as \\\"Relevant\\\" or \\\"Not Relevant\\\".\\n2. Identify the intent: choose one of [\\\"question\\\", \\\"complaint\\\", \\\"vendor search\\\", \\\"general chatter\\\", \\\"career update\\\", \\\"other\\\"].\\n3. Analyze the sentiment: choose one of [\\\"positive\\\", \\\"neutral\\\", \\\"negative\\\"].\\n4. Provide a confidence score between 0 and 1.\\n5. Return **only JSON** with no extra text.\\n\\nExpected JSON format:\\n{\\n  \\\"classification\\\": \\\"<Relevant or Not Relevant>\\\",\\n  \\\"intent\\\": \\\"<intent category>\\\",\\n  \\\"sentiment\\\": \\\"<positive/neutral/negative>\\\",\\n  \\\"confidence\\\": <confidence score between 0 and 1>\\n}\\n\"\n            },\n            {\n              \"content\": \"You are an expert growth marketer and data analyst. Your job is to classify social media posts for GTM monitoring.\\n\",\n              \"role\": \"system\"\n            }\n          ]\n        },\n        \"jsonOutput\": true,\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"typeVersion\": 1.8,\n      \"position\": [\n        1360,\n        -16\n      ],\n      \"id\": \"271b3c99-a5c1-491a-a7b9-3d888ef9183e\",\n      \"name\": \"Scoring\",\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"n6bvIeaXIPKBVVg9\",\n          \"name\": \"OpenAi account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"value\": \"gpt-4.1-mini\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"GPT-4.1-MINI\"\n        },\n        \"messages\": {\n          \"values\": [\n            {\n              \"content\": \"=You are a professional growth marketer and engagement strategist.\\n\\nUsing the following post, create:\\n\\n1. A concise summary (1–2 sentences) capturing the main idea.\\n2. A short engagement suggestion (1–2 sentences) tailored to the post's content, intent, and sentiment. \\n   - The suggestion can be a comment or a DM depending on what is most appropriate. \\n   - Avoid generic responses like “Appreciate you sharing this.” \\n   - Make it actionable, helpful, or conversational based on the post.\\n\\nPost Content:\\n{{ $('Loop Over Items').item.json.content }}\\n\\nPost Intent: {{ $json.message.content.intent }}\\nPost Sentiment: {{ $json.message.content.sentiment }}\\n\\nInstructions:\\n\\n- Question → provide a helpful answer or tip.\\n- Complaint → show empathy and suggest solutions.\\n- Vendor search → recommend relevant options or support.\\n- General chatter → lightly acknowledge or engage.\\n- Tone: Always professional, friendly, and concise.\\n\\nFormat: Write the engagement suggestion as a comment, DM, or reply based on context. \\n\\nOutput Style: Use clear JSON for n8n automation.\\n\\nJSON Output Example:\\n{\\n  \\\"post_summary\\\": \\\"<concise summary capturing main idea>\\\",\\n  \\\"engagement_suggestion\\\": \\\"<contextual comment or DM based on content>\\\"\\n}\\n\"\n            },\n            {\n              \"content\": \"You are a professional growth marketer and engagement strategist. Follow the instructions in the user prompt to generate concise summaries and engagement suggestions\"\n            }\n          ]\n        },\n        \"jsonOutput\": true,\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"typeVersion\": 1.8,\n      \"position\": [\n        2256,\n        -16\n      ],\n      \"id\": \"4c21821e-03d1-4bc2-bcb8-8ef84a1b5856\",\n      \"name\": \"Engagement\",\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"n6bvIeaXIPKBVVg9\",\n          \"name\": \"OpenAi account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"reaction\",\n        \"operation\": \"get\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"value\": \"C09FGV1KRFB\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"all-vamsi\"\n        },\n        \"timestamp\": \"={{ $('Slack Trigger').item.json.item.ts }}\"\n      },\n      \"type\": \"n8n-nodes-base.slack\",\n      \"typeVersion\": 2.3,\n      \"position\": [\n        1168,\n        928\n      ],\n      \"id\": \"67d260ef-85c8-44e9-a856-b30ba10e3584\",\n      \"name\": \"Get a reaction\",\n      \"webhookId\": \"d0bcecd7-03f5-41f3-963a-2ef2f1f49739\",\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"oVQNoVSc96qAfx3T\",\n          \"name\": \"Slack account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"return items.map(item => {\\n  const reactions = item.json.message?.reactions || [];\\n  const totalReactions = reactions.reduce((sum, r) => sum + (r.count || 0), 0);\\n\\n  let postId = item.json.message?.ts;\\n  if (postId) postId = postId.toString().split(\\\".\\\")[0]; // only before dot\\n\\n  const userId = item.json.message?.user || null;\\n\\n  const updateStatus = totalReactions > 0 ? 'reacted' : 'not reacted';\\n\\n  return {\\n    json: {\\n      postId,\\n      userId,\\n      update: updateStatus,\\n      no_of_reactions: totalReactions,\\n      timestamp: new Date().toISOString()\\n    }\\n  };\\n});\\n\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        1408,\n        928\n      ],\n      \"id\": \"a7ab9fe2-147d-4a77-a64e-6c76d86aea72\",\n      \"name\": \"Code5\"\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"return items.map(item => {\\n  // Slack message ID (unique per message in a channel)\\n  const tsFull = item.json.item?.ts || item.json.message_timestamp || item.json.ts;\\n\\n  // Keep only the part before the dot\\n  const ts = tsFull ? tsFull.toString().split('.')[0] : \\\"\\\";\\n\\n  return {\\n    json: {\\n      Post_link: item.json.Post_link,   // Reddit post link from earlier node\\n      postid_slack: ts,                 // Slack message ID (before .)\\n      Update: \\\"not reacted\\\",\\n      no_of_reactions: 0\\n    }\\n  };\\n});\\n\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        3392,\n        320\n      ],\n      \"id\": \"a5d800b9-e94d-4ccb-90f5-718d0ebb10a5\",\n      \"name\": \"Code6\"\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"update\",\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Reddit\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": \"gid=0\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Main sheet\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit#gid=0\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"Update\": \"={{ $json.update }}\",\n            \"postid(slack)\": \"={{ $json.postId }}\",\n            \"no of reactions\": \"={{ $json.no_of_reactions }}\"\n          },\n          \"matchingColumns\": [\n            \"postid(slack)\"\n          ],\n          \"schema\": [\n            {\n              \"id\": \"post_id\",\n              \"displayName\": \"post_id\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"post link\",\n              \"displayName\": \"post link\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Post summary\",\n              \"displayName\": \"Post summary\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Relavance\",\n              \"displayName\": \"Relavance\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Engagement suggestion\",\n              \"displayName\": \"Engagement suggestion\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Relevance number\",\n              \"displayName\": \"Relevance number\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Intent\",\n              \"displayName\": \"Intent\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Sentiment\",\n              \"displayName\": \"Sentiment\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Processed\",\n              \"displayName\": \"Processed\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"postid(slack)\",\n              \"displayName\": \"postid(slack)\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Update\",\n              \"displayName\": \"Update\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"no of reactions\",\n              \"displayName\": \"no of reactions\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"row_number\",\n              \"displayName\": \"row_number\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"number\",\n              \"canBeUsedToMatch\": true,\n              \"readOnly\": true,\n              \"removed\": true\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.7,\n      \"position\": [\n        1648,\n        928\n      ],\n      \"id\": \"a83fd084-5e71-463b-a2b3-a064c66077c1\",\n      \"name\": \"Update row in sheet2\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"NFRkPGRhbOO7zmV2\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"update\",\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Reddit\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": \"gid=0\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Main sheet\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit#gid=0\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"postid(slack)\": \"={{ $json.postid_slack }}\",\n            \"Update\": \"not reacted\",\n            \"no of reactions\": \"={{ $json.no_of_reactions }}\",\n            \"row_number\": 0,\n            \"post_id\": \"={{ $('Edit Fields1').item.json.post_id }}\",\n            \"post link\": \"={{ $('Edit Fields1').item.json.post_link }}\"\n          },\n          \"matchingColumns\": [\n            \"post_id\"\n          ],\n          \"schema\": [\n            {\n              \"id\": \"post_id\",\n              \"displayName\": \"post_id\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"post link\",\n              \"displayName\": \"post link\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Post summary\",\n              \"displayName\": \"Post summary\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Relavance\",\n              \"displayName\": \"Relavance\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Engagement suggestion\",\n              \"displayName\": \"Engagement suggestion\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Relevance number\",\n              \"displayName\": \"Relevance number\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Intent\",\n              \"displayName\": \"Intent\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Sentiment\",\n              \"displayName\": \"Sentiment\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Processed\",\n              \"displayName\": \"Processed\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"postid(slack)\",\n              \"displayName\": \"postid(slack)\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Update\",\n              \"displayName\": \"Update\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"no of reactions\",\n              \"displayName\": \"no of reactions\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"displayName\": \"row_number\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"number\",\n              \"canBeUsedToMatch\": true,\n              \"readOnly\": true,\n              \"removed\": false\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.7,\n      \"position\": [\n        3664,\n        320\n      ],\n      \"id\": \"9290ea57-f8dc-4500-804a-5b21df601f6a\",\n      \"name\": \"Update row in sheet1\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"NFRkPGRhbOO7zmV2\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Reddit\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": \"gid=0\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Main sheet\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Q46sO_JIcm_LFKEEM3nxiOhAXT1b9swvQRGJrByx4X8/edit#gid=0\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.7,\n      \"position\": [\n        -480,\n        96\n      ],\n      \"id\": \"6ee125c6-6d36-4347-8308-12fae0a7c78c\",\n      \"name\": \"Get row(s) in sheet1\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"NFRkPGRhbOO7zmV2\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      }\n    },\n    {\n      \"parameters\": {},\n      \"type\": \"n8n-nodes-base.merge\",\n      \"typeVersion\": 3.2,\n      \"position\": [\n        256,\n        -16\n      ],\n      \"id\": \"4d035809-124f-4004-aafc-d999af4ddfcb\",\n      \"name\": \"Merge\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"436a8ac8-9c22-4881-8e04-fd15b9077248\",\n              \"name\": \"Field2\",\n              \"value\": \"sheet\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"119fe8e5-703b-4440-9af2-29c582727975\",\n              \"name\": \"post_id\",\n              \"value\": \"={{ $json.post_id }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"c10eb793-5ed9-4fdb-9263-b4204e14ae2b\",\n              \"name\": \"Post link\",\n              \"value\": \"={{ $json['post link'] }}\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true,\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        -48,\n        64\n      ],\n      \"id\": \"df2b8bb4-7266-423f-9181-c18d81edf7d5\",\n      \"name\": \"Edit Fields\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"ce670397-9c56-48f9-8baa-c70cc727685b\",\n              \"name\": \"Field1\",\n              \"value\": \"http\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"0e0688ba-6ee2-4075-83cd-b81dafe3def5\",\n              \"name\": \"post_id\",\n              \"value\": \"={{ $json.post_id }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"cc2856e1-caa5-4e0a-959f-6ccd1ebe7278\",\n              \"name\": \"post_link\",\n              \"value\": \"={{ $json.post_link }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"059959c4-73cf-4f11-82b0-0fd3f4233b38\",\n              \"name\": \"author\",\n              \"value\": \"={{ $json.author }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"61a60574-d294-4f48-97d5-5e699958ab6d\",\n              \"name\": \"content\",\n              \"value\": \"={{ $json.content }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"f0016ddb-b897-4fc6-8b09-8397cb0f5f4f\",\n              \"name\": \"timestamp\",\n              \"value\": \"={{ $json.timestamp }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"64e3cfa4-4ae0-4c7c-8802-faa337c2d6b5\",\n              \"name\": \"community\",\n              \"value\": \"={{ $json.community }}\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true,\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        -16,\n        -176\n      ],\n      \"id\": \"812a8a04-3be6-409c-b553-a5785c4c77d0\",\n      \"name\": \"Edit Fields2\"\n    },\n    {\n      \"parameters\": {\n        \"conditions\": {\n          \"options\": {\n            \"caseSensitive\": true,\n            \"leftValue\": \"\",\n            \"typeValidation\": \"strict\",\n            \"version\": 2\n          },\n          \"conditions\": [\n            {\n              \"id\": \"7117acae-ccec-48dc-a80b-9c3139f65c6a\",\n              \"leftValue\": \"={{ $json.Field1 }}\",\n              \"rightValue\": \"=http\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"equals\",\n                \"name\": \"filter.operator.equals\"\n              }\n            }\n          ],\n          \"combinator\": \"and\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.if\",\n      \"typeVersion\": 2.2,\n      \"position\": [\n        464,\n        -16\n      ],\n      \"id\": \"28876423-3512-4d24-8495-0f3fa17ff3a9\",\n      \"name\": \"If\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"Schedule Trigger         → Start workflow at a scheduled time\\nGet Row(s) in Sheet      → Fetch keywords from Google Sheet\\nFilter                   → Remove empty keywords\\nHTTP Request             → Search Reddit using the keywords\\nCode                     → Extract required post fields: post_id, post_link, author, content, timestamp, community, ups, score, flair\\nEdit Fields2             → Format post data for processing/storage\\nGet Row(s) in Sheet1     → Fetch existing sheet rows for comparison\\nEdit Fields              → Prepare sheet-ready data with key fields\\nMerge                    → Combine new posts with existing rows\\nIf                       → Check source (Field1 = http) to split workflow for further actions\\n\",\n        \"height\": 784,\n        \"width\": 1984,\n        \"color\": 3\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1328,\n        -448\n      ],\n      \"typeVersion\": 1,\n      \"id\": \"d370f2e1-3518-43db-8784-f48fc54fe23e\",\n      \"name\": \"Sticky Note1\"\n    }\n  ],\n  \"connections\": {\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code3\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Send a message1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Append row in sheet\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get row(s) in sheet\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTTP Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get row(s) in sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Get row(s) in sheet1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Engagement\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get row(s) in sheet2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Append row in sheet1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get row(s) in sheet2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Append row in sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTTP Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Slack Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code4\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code4\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get a reaction\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Scoring\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Scoring\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Engagement\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get a reaction\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code5\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code5\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update row in sheet2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send a message1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code6\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code6\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update row in sheet1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get row(s) in sheet1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Edit Fields2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        []\n      ]\n    }\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"staticData\": null,\n  \"meta\": {\n    \"templateCredsSetupCompleted\": true\n  },\n  \"pinData\": {},\n  \"versionId\": \"5a511ca6-1bc5-458b-ae91-fefd46c48059\",\n  \"triggerCount\": 0,\n  \"shared\": [\n    {\n      \"createdAt\": \"2025-09-13T07:50:36.619Z\",\n      \"updatedAt\": \"2025-09-13T07:50:36.619Z\",\n      \"role\": \"workflow:owner\",\n      \"workflowId\": \"M2fCYx2kZKNBuvVM\",\n      \"projectId\": \"i6aMFKoN06EKaknY\"\n    }\n  ],\n  \"tags\": []\n}"